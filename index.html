<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>macOS Clone - Kembara</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="start-screen" class="screen">
        <div class="login-container">
            <div class="profile-pic">
                <img src="images/Logo Kembara Biru.png" alt="Profile">
            </div>
            <h2 class="username">KEMBARASEMAR</h2>
            <button id="start-btn" onclick="enterDesktop()">START</button>
        </div>
    </div>

    <div id="main-menu" class="screen hidden">
        <nav class="top-bar">
            <div class="left-section">
                <img src="images/Sebelas Maret University(1).png" class="uns-logo-img" alt="UNS Logo">
                <span class="bold">Finder</span>
                <span>File</span>
                <span>Edit</span>
                <span>View</span>
            </div>
            <div class="right-section">
                <span>KEMBARASEMAR</span>
                <span id="clock">00:00 WIB</span>
            </div>
        </nav>

        <div id="UNS-window" class="window hidden">
            <div class="window-header">
                <div class="traffic-lights">
                    <span class="dot red" onclick="closeWindow(this)"></span>
                    <span class="dot yellow"></span>
                    <span class="dot green"></span>
                </div>
                <div class="window-title">About UNS</div>
            </div>
            
            <div class="window-content uns-content-wrapper" id="uns-main-container">
                <div id="uns-home-view">
                    <div class="uns-hero">
                        <div class="video-container">
                            <iframe src="https://www.youtube.com/embed/pJ-889-2vKQ?autoplay=1&mute=1&loop=1&playlist=pJ-889-2vKQ" 
                                    frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
                        </div>
                        <div class="hero-overlay">
                            <h1>Universitas Sebelas Maret</h1>
                            <p>Mengukir Prestasi, Meraih Masa Depan</p>
                        </div>
                    </div>

                    <div class="uns-sections-container">
                        <section class="uns-info-card">
                            <div class="card-main">
                                <h3><img src="https://img.icons8.com/ios-filled/50/4a90e2/history.png" width="20"> Profil & Sejarah Singkat</h3>
                                <p>UNS adalah PTN-BH yang resmi berdiri pada 11 Maret 1976.</p>
                                <span class="click-hint-btn" onclick="showUNSDetail('profil')">KLIK UNTUK DETAIL...</span>
                            </div>
                        </section>

                        <section class="uns-info-card">
                            <div class="card-main">
                                <h3><img src="https://img.icons8.com/ios-filled/50/4a90e2/enter-2.png" width="20"> Jalur Penerimaan</h3>
                                <p>Tersedia berbagai jalur seleksi untuk mahasiswa baru.</p>
                                <span class="click-hint-btn" onclick="showUNSDetail('jalur')">LIHAT SEMUA JALUR...</span>
                            </div>
                        </section>

                        <section class="uns-info-card search-active" id="faculty-section">
                            <div class="card-main">
                                <h3><img src="https://img.icons8.com/ios-filled/50/4a90e2/university.png" width="20"> Cari Fakultas & Jurusan</h3>
                                <div class="faculty-search-container">
                                    <input type="text" id="faculty-search-input" placeholder="Ketik jurusan (misal: Kedokteran, Teknik...)" onkeyup="filterPrograms()">
                                    <img src="https://img.icons8.com/ios-filled/50/4a90e2/search--v1.png" class="inner-search-icon">
                                </div>
                            </div>
                            <div class="card-detail search-results-area">
                                <hr>
                                <div id="search-stats" class="search-stats">Terdapat 14 Fakultas tersedia</div>
                                <div id="faculty-results" class="faculty-tag-container">
                                    <span class="faculty-tag">Kedokteran</span><span class="faculty-tag">Hukum</span><span class="faculty-tag">Teknik</span>
                                </div>
                            </div>
                        </section>

                        <section class="uns-info-card">
                            <div class="card-main">
                                <h3><img src="https://img.icons8.com/ios-filled/50/4a90e2/building.png" width="20"> Fasilitas Kampus</h3>
                                <p>Sarana prasarana lengkap pendukung pendidikan.</p>
                                <span class="click-hint-btn" onclick="showUNSDetail('fasilitas')">LIHAT FASILITAS...</span>
                            </div>
                        </section>
                    </div>
                </div>

                <div id="uns-detail-view" class="hidden">
                    <div class="detail-header">
                        <button class="back-btn" onclick="hideUNSDetail()">← Kembali</button>
                        <h2 id="detail-title">Detail Informasi</h2>
                    </div>
                    <div id="detail-content" class="detail-body">
                        </div>
                </div>
            </div>
        </div>

<div id="safari-window" class="window hidden">
    <div class="window-header">
        <div class="traffic-lights">
            <span class="dot red" onclick="closeWindow(this)"></span>
            <span class="dot yellow"></span>
            <span class="dot green"></span>
        </div>
        <div class="safari-address-bar-container">
            <div class="safari-controls">
                <span id="safari-back" onclick="goBack()" style="cursor: pointer; opacity: 0.3;">＜</span> 
                <span id="safari-forward" onclick="goForward()" style="cursor: pointer; opacity: 0.3;">＞</span>
            </div>
            <div class="safari-address-bar">
                <img src="https://img.icons8.com/material-outlined/24/000000/lock.png" style="width:12px; opacity:0.5">
                <span>google.com</span>
            </div>
        </div>
    </div>
    
    <div class="window-content safari-bg">
        <div id="safari-home-view" class="google-home">
            <h1 class="google-logo-text"><span>G</span><span>o</span><span>o</span><span>g</span><span>l</span><span>e</span></h1>
            
            <div class="google-search-box">
                <img src="https://img.icons8.com/ios-filled/50/google-logo.png" class="search-icon">
                <input type="text" id="safari-search-input" placeholder="Search Google or type a URL" onkeypress="handleSafariSearch(event)">
                <img src="https://img.icons8.com/material-outlined/24/000000/microphone.png" class="mic-icon">
            </div>

            <div class="google-nav-tabs home-tabs">
                <div class="nav-tab active">All</div>
                <div class="nav-tab">Images</div>
                <div class="nav-tab">Maps</div>
                <div class="nav-tab">Videos</div>
                <div class="nav-tab">News</div>
            </div>
        </div>

        <div id="safari-results-view" class="google-results hidden">
            <div class="results-header">
                <span class="results-logo" onclick="resetSafari()">Google</span>
                <div class="results-search-box">
                    <input type="text" id="results-input-val" onkeypress="handleSafariSearch(event)">
                </div>
            </div>

            <div class="google-nav-tabs results-tabs">
                <div class="nav-tab active" id="tab-all" onclick="switchSafariTab('all')">All</div>
                <div class="nav-tab" id="tab-images" onclick="switchSafariTab('images')">Images</div>
                <div class="nav-tab">Maps</div>
                <div class="nav-tab">Videos</div>
                <div class="nav-tab">News</div>
                <div class="nav-tab">More</div>
            </div>

            <hr class="results-divider">
            
            <div id="results-content-all" class="results-main-content">
                <div class="results-flex-container">
                    
                    <div class="results-list">
                        <p class="results-stats">About 1.270.000 results (0.45 seconds)</p>
                        
                        <div class="result-item">
                            <div class="result-meta-container">
                                <div class="favicon-circle">
                                    <img src="https://www.google.com/s2/favicons?domain=uns.ac.id&sz=64" alt="fav">
                                </div>
                                <div class="site-path">
                                    <span class="site-name">Kembara UNS</span>
                                    <cite>https://kembara.uns.ac.id › semar</cite>
                                </div>
                            </div>
                            <a href="#"><h3>Kembarasemar - Keluarga Mahasiswa Banjarnegara Sebelas Maret</h3></a>
                            <p>Kembarasemar adalah sekumpulan Mahasiswa Banjarnegara yang berkuliah di UNS. Terinspirasi dari sebuah tokoh wayang bernama Semar...</p>
                        </div>
                        
                        <div class="result-item">
                            <div class="result-meta-container">
                                <div class="favicon-circle">
                                    <img src="https://www.google.com/s2/favicons?domain=instagram.com&sz=64" alt="fav">
                                </div>
                                <div class="site-path">
                                    <span class="site-name">Instagram</span>
                                    <cite>https://www.instagram.com › kembarasemar...</cite>
                                </div>
                            </div>
                            <a href="#"><h3>kembarasemar.uns</h3></a>
                            <p>123 followers · 34 following · 99 posts · @kembarasemar.uns: “Keluarga Mahasiswa Banjarnegara Sebelas Maret...</p>
                        </div>
                        <div class="result-item">
                            <div class="result-meta-container">
                                <div class="favicon-circle">
                                    <img src="https://www.google.com/s2/favicons?domain=tiktok.com&sz=64" alt="fav">
                                </div>
                                <div class="site-path">
                                    <span class="site-name">TikTok</span>
                                    <cite>https://www.tiktok.com › kembarasemar</cite>
                                </div>
                            </div>
                            <a href="#"><h3>Kembarasemar (@kembarasemar_uns)</h3></a>
                            <p>KEMBARASEMAR (@kembarasemar_uns) on TikTok | Watch the latest video from KEMBARASEMAR (@kembarasemar_uns) ... @kembarasemar_uns. 10 Following. 137K Followers. 1 ..</p>
                        </div>
                    </div>
                    <div class="knowledge-panel">
                        <div class="kp-image-header">
                            <img src="images/Logo Kembara Biru.png" alt="Kembarasemar Logo">
                        </div>
                        <div class="kp-content">
                            <h2 class="kp-title">Kembarasemar</h2>
                            <p class="kp-subtitle">Organisasi Mahasiswa di Surakarta</p>
                            <hr class="kp-divider">
                            <p class="kp-description">
                                Kembarasemar (Keluarga Mahasiswa Banjarnegara Sebelas Maret) adalah organisasi daerah yang mewadahi mahasiswa asal Kabupaten Banjarnegara yang menempuh pendidikan di Universitas Sebelas Maret.
                            </p>
                            <div class="kp-info-row">
                                <strong>Pusat:</strong> Surakarta, Jawa Tengah
                            </div>
                            <div class="kp-info-row">
                                <strong>Tujuan:</strong> Wadah silaturahmi & pengembangan diri mahasiswa daerah.
                            </div>
                            <div class="kp-info-row">
                                <strong>Media Sosial:</strong> Instagram, TikTok, YouTube
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="results-content-images" class="hidden">
                <div class="results-images-grid">
                    <div class="image-card"><img src="images/1.png" alt="Kembarasemar 1"></div>
                    <div class="image-card"><img src="images/4.png" alt="Kembarasemar 2"></div>
                    <div class="image-card"><img src="images/2.png" alt="Kembarasemar 3"></div>
                    <div class="image-card"><img src="images/5.png" alt="Kembarasemar 4"></div>
                    <div class="image-card"><img src="images/3.png" alt="Kembarasemar 5"></div>
                    <div class="image-card"><img src="images/6.png" alt="Kembarasemar 6"></div>
                </div>

                <div class="images-description-box">
                    <div class="desc-section">
                        <h3>Apa itu Kembarasemar?</h3>
                        <p>Kembarasemar merupakan organisasi daerah yang menjadi rumah bagi mahasiswa asal Banjarnegara yang sedang menempuh studi di Universitas Sebelas Maret (UNS). Kami berfokus pada pengembangan potensi mahasiswa dan pengabdian kepada daerah asal.</p>
                    </div>

                    <div class="desc-grid">
                        <div class="desc-section">
                            <h4>Divisi Organisasi</h4>
                            <ul>
                                <li><strong>PSDA:</strong> Pengembangan Sumber Daya Anggota.</li>
                                <li><strong>Humas:</strong> Penghubung internal dan eksternal.</li>
                                <li><strong>Minat Bakat:</strong> Wadah kreativitas seni dan olahraga.</li>
                                <li><strong>Sosmas:</strong> Aksi sosial dan pengabdian masyarakat.</li>
                            </ul>
                        </div>

                        <div class="desc-section">
                            <h4>Media Sosial</h4>
                            <div class="social-info">
                                <p><strong>Instagram:</strong> @kembarasemar.uns</p>
                                <p><strong>TikTok:</strong> @kembarasemar_uns</p>
                                <p><strong>YouTube:</strong> Kembarasemar Official</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
        <div class="dock-container">
            <div class="dock">
                <div class="app-icon" onclick="openWindow('UNS-window')">
                    <img src="images/UNS Logo Putih.png" alt="About UNS">
                </div>
                <div class="app-icon" onclick="openWindow('safari-window')">
                    <img src="https://img.icons8.com/color/48/safari--v1.png" alt="Safari">
                </div>
            </div>
        </div>
    </div>

    <script>
        function enterDesktop() {
            const startScreen = document.getElementById('start-screen');
            const mainMenu = document.getElementById('main-menu');
            startScreen.classList.add('fade-out');
            setTimeout(() => {
                startScreen.style.display = 'none';
                mainMenu.classList.remove('hidden');
                mainMenu.classList.add('fade-in');
                startClock();
            }, 500);
        }

        function startClock() {
            setInterval(() => {
                const now = new Date();
                const hours = String(now.getHours()).padStart(2, '0');
                const minutes = String(now.getMinutes()).padStart(2, '0');
                document.getElementById('clock').innerText = `${hours}:${minutes} WIB`;
            }, 1000);
        }

        // Fungsi Membuka Jendela
        function openWindow(id) {
            const win = document.getElementById(id);
            if (win) {
                win.classList.remove('hidden');

                const width = 600; 
                const height = 400;

                win.style.left = (window.innerWidth / 2 - width / 2) + "px";
                win.style.top = (window.innerHeight / 2 - height / 2) + "px";

                win.style.transform = "scale(1)"; 
                win.style.opacity = "0";

                setTimeout(() => {
                    win.classList.add('visible');
                    win.classList.remove('minimized');
                    win.style.opacity = "1";
                }, 10);

                // Bawa ke depan
                highestZ++;
                if (highestZ > 9000) highestZ = 10;
                win.style.zIndex = highestZ;
            }
        }

        // Fungsi Menutup Jendela
        function closeWindow(btn) {
            const win = btn.closest('.window');
            win.classList.remove('visible');
            win.style.transform = ""; 
            win.style.transition = "all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)";
            win.style.opacity = "0";
            setTimeout(() => {
                if (!win.classList.contains('visible')) {
                    win.classList.add('hidden');
                    win.style.opacity = "";
                }
            }, 500);
        }

        function handleSafariSearch(event) {
            // Cek jika tombol yang ditekan adalah Enter (Keycode 13)
            if (event.key === "Enter") {
                const query = document.getElementById('safari-search-input').value;
        
                if (query.trim() !== "") {
                    // Sembunyikan tampilan home, tampilkan hasil
                    document.getElementById('safari-home-view').classList.add('hidden');
                    document.getElementById('safari-results-view').classList.remove('hidden');
            
                    // Update nilai di search bar hasil
                    document.getElementById('results-input-val').value = query;
            
                    // Ubah judul alamat di header safari (opsional)
                    document.querySelector('.safari-address-bar span').innerText = "google.com/search?q=" + query;
                }
            }
        }

        // Tambahkan logika agar saat jendela dibuka kembali, tampilan bisa di-reset (opsional)
        // Modifikasi fungsi openWindow yang sudah ada
        const originalOpenWindow = openWindow;
        openWindow = function(id) {
            if(id === 'safari-window') {
                document.getElementById('safari-home-view').classList.remove('hidden');
                document.getElementById('safari-results-view').classList.add('hidden');
                document.getElementById('safari-search-input').value = "";
                document.querySelector('.safari-address-bar span').innerText = "google.com";
            }
            originalOpenWindow(id);
        }

        function switchSafariTab(type) {
            const allTab = document.getElementById('tab-all');
            const imagesTab = document.getElementById('tab-images');
            const allContent = document.getElementById('results-content-all');
            const imagesContent = document.getElementById('results-content-images');

            // Reset semua tab dan konten
            allTab.classList.remove('active');
            imagesTab.classList.remove('active');
            allContent.classList.add('hidden');
            imagesContent.classList.add('hidden');

            // Aktifkan yang dipilih
            if (type === 'all') {
                allTab.classList.add('active');
                allContent.classList.remove('hidden');
            } else if (type === 'images') {
                imagesTab.classList.add('active');
                imagesContent.classList.remove('hidden');
            }
        }

        // Tambahan: Fungsi untuk kembali ke halaman utama Google jika logo diklik
        function resetSafari() {
            document.getElementById('safari-home-view').classList.remove('hidden');
            document.getElementById('safari-results-view').classList.add('hidden');
            document.getElementById('safari-search-input').value = "";
        }

        // Pastikan fungsi handleSafariSearch yang lama juga tetap berjalan
        function handleSafariSearch(event) {
            if (event.key === "Enter") {
                const input = event.target;
                if (input.value.trim() !== "") {
                    document.getElementById('safari-home-view').classList.add('hidden');
                    document.getElementById('safari-results-view').classList.remove('hidden');
                    document.getElementById('results-input-val').value = input.value;
                    // Selalu mulai di tab 'All' saat mencari baru
                    switchSafariTab('all');
                }
            }
        }

        // Data Jurusan dan Fakultas berdasarkan dokumen PDF
        const unsPrograms = [
            { name: "Ilmu Hukum", faculty: "Hukum", acc: "A" }, // [cite: 67]
            { name: "Akuntansi", faculty: "Ekonomi & Bisnis", acc: "Unggul" }, // [cite: 73]
            { name: "Kedokteran", faculty: "Kedokteran", acc: "A" }, // [cite: 71]
            { name: "Psikologi", faculty: "Psikologi", acc: "A" }, // [cite: 93]
            { name: "Informatika", faculty: "Teknologi Informasi & Sains Data", acc: "Unggul" }, // [cite: 185]
            { name: "Teknik Sipil", faculty: "Teknik", acc: "Unggul" }, // [cite: 163]
            { name: "Farmasi", faculty: "MIPA", acc: "Baik Sekali" }, // [cite: 144]
            { name: "Hubungan Internasional", faculty: "ISIP", acc: "Baik Sekali" }, // [cite: 81]
            { name: "Desain Komunikasi Visual", faculty: "Seni Rupa & Desain", acc: "Unggul" }, // [cite: 130]
            { name: "Agribisnis", faculty: "Pertanian", acc: "Unggul" }, // [cite: 156]
            { name: "Pendidikan Matematika", faculty: "KIP", acc: "Unggul" }, // [cite: 99]
            { name: "Sains Data", faculty: "Teknologi Informasi & Sains Data", acc: "Baik" }, // [cite: 186]
            { name: "Arsitektur", faculty: "Teknik", acc: "A" }, // [cite: 147]
            { name: "D3 Teknik Informatika", faculty: "Sekolah Vokasi", acc: "B" } // [cite: 190]
        ];

        function filterPrograms() {
            const input = document.getElementById('faculty-search-input').value.toLowerCase();
            const resultsContainer = document.getElementById('faculty-results');
            const stats = document.getElementById('search-stats');
            const card = document.getElementById('faculty-section');

            // Pastikan kartu terbuka saat mengetik
            card.classList.add('expanded');

            if (input === "") {
                stats.innerText = "Terdapat 14 Fakultas tersedia ";
                resultsContainer.innerHTML = `
                    <span class="faculty-tag" style="cursor:pointer">Kedokteran</span>
                    <span class="faculty-tag" style="cursor:pointer">Hukum</span>
                    <span class="faculty-tag" style="cursor:pointer">Teknik</span>
                `;
                return;
            }

            const filtered = unsPrograms.filter(p => 
                p.name.toLowerCase().includes(input) || 
                p.faculty.toLowerCase().includes(input)
            );

            resultsContainer.innerHTML = "";
            
            if (filtered.length > 0) {
                stats.innerText = `Ditemukan ${filtered.length} program studi terkait.`;
                filtered.forEach(p => {
                    const span = document.createElement('span');
                    span.className = 'faculty-tag';
                    // Tambahkan event onclick di sini
                    span.setAttribute('onclick', `showProgramDetail('${p.name}')`); 
                    span.style.cursor = "pointer";
                    span.innerHTML = `<strong>${p.name}</strong> (${p.acc}) <br><small>${p.faculty}</small>`;
                    resultsContainer.appendChild(span);
                });
            } else {
                stats.innerText = "Tidak ada hasil.";
                resultsContainer.innerHTML = `<div class="no-result-msg">Jurusan "${input}" tidak ditemukan.</div>`;
            }
        }

        // 3. Tambahkan fungsi untuk menampilkan detail Program Studi
        function showProgramDetail(programName) {
            const prog = unsPrograms.find(p => p.name === programName);
            if (!prog) return;

            const detailView = document.getElementById('uns-detail-view');
            const title = document.getElementById('detail-title');
            const content = document.getElementById('detail-content');

            title.innerText = "Detail Program Studi";
            
            content.innerHTML = `
                <div class="detail-body-container">
                    <div class="elegant-box">
                        <div class="program-header-info">
                            <h2 style="color: #007aff; margin-bottom: 5px;">${prog.name}</h2>
                            <p style="font-weight: 600; color: #555;">Fakultas ${prog.faculty}</p>
                            <span class="faculty-tag" style="display:inline-block; margin-top:10px; background:#eef6ff; color:#0056b3">Akreditasi: ${prog.acc}</span>
                        </div>
                        <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">
                        <h4>Deskripsi Program:</h4>
                        <p style="font-size: 15px; color: #444;">${prog.desc || "Informasi detail mengenai program studi ini sedang dalam tahap pembaruan."}</p>
                        <div class="info-footer" style="margin-top: 30px; font-size: 12px; color: #888;">
                            * Informasi berdasarkan Katalog Universitas Sebelas Maret 2025/2026.
                        </div>
                    </div>
                </div>
            `;

            // Tampilkan dengan animasi slide yang sudah dibuat sebelumnya
            detailView.classList.remove('hidden');
            setTimeout(() => {
                detailView.classList.add('active');
            }, 10);
        }

        function showUNSDetail(type) {
            const detailView = document.getElementById('uns-detail-view');
            const title = document.getElementById('detail-title');
            const content = document.getElementById('detail-content');

            // Container pembungkus agar rapi dan elegan
            let htmlContent = `<div class="detail-body-container"><div class="elegant-box">`;

            if (type === 'profil') {
                title.innerText = "Profil & Sejarah Singkat";
                htmlContent += `
                    <p>Universitas Sebelas Maret (UNS) merupakan salah satu Perguruan Tinggi Negeri Badan Hukum (PTN-BH) terkemuka di Indonesia yang resmi berdiri pada <strong>11 Maret 1976</strong>.</p>
                    <h4>Peringkat Internasional & Nasional:</h4>
                    <div class="ranking-item"><span>AppliedHE 2025</span> <strong>Peringkat 1 di Indonesia</strong></div>
                    <div class="ranking-item"><span>UI GreenMetric</span> <strong>Peringkat 6 Nasional</strong></div>
                    <div class="ranking-item"><span>Webometrics 2024</span> <strong>Peringkat 7 Nasional</strong></div>
                    <p style="margin-top:20px;">Visi UNS adalah menjadi pusat pengembangan ilmu pengetahuan, teknologi, dan seni yang unggul di tingkat internasional dengan berlandaskan pada nilai-nilai luhur budaya nasional.</p>
                `;
            } else if (type === 'jalur') {
                title.innerText = "Jalur Penerimaan Mahasiswa";
                htmlContent += `
                    <h4>Program Sarjana (S1):</h4>
                    <ul class="admission-list">
                        <li><strong>SNBP:</strong> Seleksi Nasional Berdasarkan Prestasi.</li>
                        <li><strong>SNBT:</strong> Seleksi Nasional Berdasarkan Tes (UTBK).</li>
                        <li><strong>Seleksi Mandiri (SM-UNS):</strong> 
                            <ul>
                                <li>Jalur Ujian Tulis & Nilai UTBK</li>
                                <li>Jalur Prestasi (Olahraga, Seni, Penalaran)</li>
                                <li>Jalur Kepemimpinan Muda & Disabilitas</li>
                            </ul>
                        </li>
                    </ul>
                    <h4 style="margin-top:20px;">Program Diploma (Vokasi):</h4>
                    <p>Tersedia melalui jalur seleksi nasional dan mandiri untuk jenjang D3 dan D4.</p>
                `;
            } else if (type === 'fasilitas') {
                title.innerText = "Fasilitas Kampus";
                htmlContent += `
                    <h4>Sarana & Prasarana Unggulan:</h4>
                    <ul class="admission-list">
                        <li><strong>Gedung SPMB:</strong> Pusat pelayanan mahasiswa baru.</li>
                        <li><strong>Perpustakaan Pusat:</strong> Salah satu perpustakaan terlengkap dengan akses jurnal digital internasional.</li>
                        <li><strong>Rumah Sakit UNS:</strong> Fasilitas kesehatan dan praktek medis modern.</li>
                        <li><strong>Pusat Kegiatan Mahasiswa (PKM):</strong> Wadah organisasi dan kreativitas mahasiswa.</li>
                        <li><strong>Fasilitas Olahraga:</strong> Stadion, GOR, dan kolam renang berstandar nasional.</li>
                        <li><strong>Bus Kampus:</strong> Transportasi gratis untuk mobilitas di dalam area kampus.</li>
                    </ul>
                `;
            }

            htmlContent += `</div></div>`;
            content.innerHTML = htmlContent;

            // 2. Tampilkan dengan animasi slide
            detailView.classList.remove('hidden');
            setTimeout(() => {
                detailView.classList.add('active');
            }, 10); // Jeda kecil untuk memicu transisi
        }

        function hideUNSDetail() {
            const detailView = document.getElementById('uns-detail-view');
    
            // 1. Jalankan animasi keluar (geser ke kanan)
            detailView.classList.remove('active');

            // 2. Sembunyikan sepenuhnya setelah animasi selesai (500ms)
            setTimeout(() => {
                detailView.classList.add('hidden');
            }, 500);
        }

        // --- SISTEM NAVIGASI SAFARI ---
        let safariHistory = [];
        let historyIndex = -1;

        // Fungsi untuk menyimpan state ke history
        function pushToHistory(state) {
            // Jika kita melakukan aksi baru setelah "Back", hapus history di depan index saat ini
            if (historyIndex < safariHistory.length - 1) {
                safariHistory = safariHistory.slice(0, historyIndex + 1);
            }
            safariHistory.push(state);
            historyIndex++;
            updateNavButtons();
        }

        function updateNavButtons() {
            const backBtn = document.getElementById('safari-back');
            const forwardBtn = document.getElementById('safari-forward');
            
            backBtn.style.opacity = historyIndex > 0 ? "1" : "0.3";
            forwardBtn.style.opacity = historyIndex < safariHistory.length - 1 ? "1" : "0.3";
        }

        function goBack() {
            if (historyIndex > 0) {
                historyIndex--;
                applyState(safariHistory[historyIndex]);
            }
        }

        function goForward() {
            if (historyIndex < safariHistory.length - 1) {
                historyIndex++;
                applyState(safariHistory[historyIndex]);
            }
        }

        function toggleCard(cardElement) {
            // Tutup kartu lain yang mungkin sedang terbuka (opsional, untuk efek accordion)
            document.querySelectorAll('.uns-info-card').forEach(card => {
                if (card !== cardElement) card.classList.remove('expanded');
            });

            // Toggle kelas expanded pada kartu yang diklik
            cardElement.classList.toggle('expanded');
        }

        // Fungsi untuk menerapkan tampilan berdasarkan state history
        function applyState(state) {
            if (state.view === 'home') {
                document.getElementById('safari-home-view').classList.remove('hidden');
                document.getElementById('safari-results-view').classList.add('hidden');
            } else {
                document.getElementById('safari-home-view').classList.add('hidden');
                document.getElementById('safari-results-view').classList.remove('hidden');
                document.getElementById('results-input-val').value = state.query;
                switchSafariTab(state.tab, false); // false agar tidak push history lagi
            }
            updateNavButtons();
        }

        // UPDATE FUNGSI YANG SUDAH ADA
        function handleSafariSearch(event) {
            if (event.key === "Enter") {
                const query = event.target.value;
                if (query.trim() !== "") {
                    document.getElementById('safari-home-view').classList.add('hidden');
                    document.getElementById('safari-results-view').classList.remove('hidden');
                    document.getElementById('results-input-val').value = query;
                    switchSafariTab('all', false);
                    pushToHistory({ view: 'results', tab: 'all', query: query });
                }
            }
        }

        function switchSafariTab(type, saveHistory = true) {
            const allTab = document.getElementById('tab-all');
            const imagesTab = document.getElementById('tab-images');
            const allContent = document.getElementById('results-content-all');
            const imagesContent = document.getElementById('results-content-images');

            allTab.classList.remove('active');
            imagesTab.classList.remove('active');
            allContent.classList.add('hidden');
            imagesContent.classList.add('hidden');

            if (type === 'all') {
                allTab.classList.add('active');
                allContent.classList.remove('hidden');
            } else {
                imagesTab.classList.add('active');
                imagesContent.classList.remove('hidden');
            }

            if (saveHistory) {
                pushToHistory({ view: 'results', tab: type, query: document.getElementById('results-input-val').value });
            }
        }

        // Jalankan history awal saat pertama kali buka
        pushToHistory({ view: 'home' });

        let highestZ = 10; // Untuk mengatur jendela mana yang di depan

        // Ambil semua elemen dengan class .window
        const windows = document.querySelectorAll('.window');

        windows.forEach(win => {
            const header = win.querySelector('.window-header');
            const btnMin = win.querySelector('.yellow');
            const btnMax = win.querySelector('.green');

            let isDragging = false;
            let offsetX, offsetY;

            // --- 1. FITUR Z-INDEX (Klik untuk bawa ke depan) ---
            win.addEventListener('mousedown', () => {
                highestZ++;
                win.style.zIndex = highestZ;
            });

            // --- 2. FITUR DRAG ---
            header.addEventListener('mousedown', (e) => {
                if (e.target.classList.contains('dot')) return;
        
                isDragging = true;
                win.style.transition = "none";

                const rect = win.getBoundingClientRect();
                offsetX = e.clientX - rect.left;
                offsetY = e.clientY - rect.top;

                win.style.left = rect.left + "px";
                win.style.top = rect.top + "px";
                win.style.transform = "none";
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                let x = e.clientX - offsetX;
                let y = e.clientY - offsetY;

                // Batasi agar jendela tidak ditarik terlalu jauh ke atas menutupi Top Bar (30px)
                if (y < 30) y = 30;

                win.style.left = x + "px";
                win.style.top = y + "px";
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                win.style.transition = "all 0.3s ease";
            });

            // --- 3. TOMBOL KONTROL ---
            btnMax.addEventListener('click', (e) => {
                e.stopPropagation();
                if (!win.classList.contains('maximized')) {
                    win.style.transition = "all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)";
                }
                win.classList.toggle('maximized');
            });

            btnMin.addEventListener('click', (e) => {
                e.stopPropagation();
                win.style.transition = "all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1)";
                win.classList.remove('visible');
                win.classList.add('minimized');
            });
        });

        // --- 4. MEMBUKA JENDELA SPESIFIK DARI DOCK ---
        // Contoh: Ikon pertama buka Finder, ikon kedua buka Settings
        const dockIcons = document.querySelectorAll('.app-icon');

        if(dockIcons[0]) {
            dockIcons[0].addEventListener('click', () => {
                const f = document.querySelector('#win-finder');
                f.style.display = 'flex';
                setTimeout(() => f.classList.remove('minimized'), 10);
            });
        }

        if(dockIcons[1]) {
            dockIcons[1].addEventListener('click', () => {
                const s = document.querySelector('#win-settings');
                s.style.display = 'flex';
                setTimeout(() => s.classList.remove('minimized'), 10);
            });
        }

    </script>
</body>
</html>